{
  "hash": "4fb0d7dea698289a422b93b45dcde405",
  "result": {
    "markdown": "---\ntitle: 'branchMover: A Shiny app for moving the default branch of your GitHub repos'\nauthor: Garrick Aden-Buie\ndate: '2021-11-02'\nslug: branchmover\nfeatured: true\ncategories:\n  - R\n  - usethis\n  - GitHub\n  - git\n  - Apps\n  - Shiny\n  - RStudio\ndescription: >\n  Introducing branchMover, a Shiny app slash RStudio addin for coordinated\n  default branch changes across your GitHub repositories.\nimage: https://raw.githubusercontent.com/gadenbuie/branchMover/main/man/figures/app.png\nsource_link: \"https://github.com/gadenbuie/garrickadenbuie-com/tree/main/content/blog/2021/branchmover/index.Rmarkdown\"\nkeywords: \"rstats\"\nreferences: ~\neditor_options:\n  chunk_output_type: console\n---\n\n\n<!-- Links -->\n[branchmover]: https://github.com/gadenbuie/branchMover\n[shiny]: https://shiny.rstudio.com\n[rstudio]: https://rstudio.com\n[github]: https://github.com\n[tidyverse]: https://tidyverse.org\n\n\n\n\n\n<div class=\"figure\">\n<img src=\"https://raw.githubusercontent.com/gadenbuie/branchMover/main/man/figures/app.png\" alt=\"The 'Branch Mover' shiny app on the main 'Repos' screen, showing an interactive table of repositories associated with a GitHub user. The table shows the default branch, language of the repo, number of forks and stars, and a button that can be clicked to initiate moving the repo's default branch.\" >\n<p class=\"caption\">Branch Mover</p>\n</div>\n\n::: lead\n\nIntroducing [branchMover], a [Shiny] app slash [RStudio] addin for coordinated default branch changes across your [GitHub] repositories.\n\nThe app show you the default branch name for all of your repos and coordinates changing the default branch, including creating an issue to communicate the change.\n\n:::\n\n## Moving to `main` street\n\nOver the past year,\nthere's been a concerted effort among people who create and manage git repositories\nto move away from the default branch name of `master`\nto something more intentional: typically `main`.\n\n[RStudio] and the [tidyverse] team recently undertook the giant challenge\nof changing the default branch of RStudio's approximately 350 public repositories\n(most of which are all open source!).\n[Jenny Bryan](https://jennybryan.org/) wrote about\n[the branch-changing experience](https://www.tidyverse.org/blog/2021/10/renaming-default-branch/)\non the tidyverse blog.\n\nWatching Jennys's superb stewardship of the change inspired a new app `branchMover`.\nOr is it named **Branch Mover**?\nAdmittedly, I didn't spend much time thinking about the name because the app won't be in your life for very long.\n\nThe goal of [branchMover] is to help you coordinate a default branch change across the repos you maintain.\nThe app shows you all of the repos associated with your GitHub account and their current default branch.\nBecause you might want to start with your less popular repos, you can sort by number of forks and stars on each repo.\n\nThere's also a button to change the default branch.\nWhen you click the button, the app clones your repo and uses\nthe [usethis](https://usethis.r-lib.org) package\nand the recently added\n[usethis::git_default_branch_rename()](https://usethis.r-lib.org/reference/git-default-branch.html)\nfunction to update the default branch of your repo.\n\nI followed Jenny's lead and the app will create an issue announcing the change.\nIf all goes well,\nthe issue is closed a few seconds later\nwith instructions for your users on how to update any local copies of your repo.\nIf it doesn't go well,\nthe issue stay open as a reminder to you to finish the process.\n\nUnfortunately, branchMover *doesn’t* update the default branch in *your*\nlocal copies of your repos. Thankfully, this is relatively pain-free\nwith the\n[usethis::git_default_branch_rediscover()](https://usethis.r-lib.org/reference/git-default-branch.html)\nfunction, added in <span class=\"pkg\">usethis</span> version 2.1.2.\n\nThe next time you find yourself in your local copy of your repo,\nrun `git_default_branch_rediscover()` to reconfigure your branch situation.\n\n```r\ngit_default_branch_rediscover()\n#> ℹ Default branch of the source repo 'jennybc/happy-git-with-r': 'main'\n#> ✓ Default branch of local repo has moved: 'master' --> 'main'\n```\n\n## Installation\n\nYou can install [branchMover] from\n[GitHub](https://github.com/) with:\n\n``` r\n# install.packages(\"devtools\")\ndevtools::install_github(\"gadenbuie/branchMover\")\n```\n\nThe app uses the <span class=\"pkg\">[usethis](https://usethis.r-lib.org)</span> and\n<span class=\"pkg\">[gh](https://gh.r-lib.org)</span> packages. You need to configure gh with a\n[Personal Access Token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)\nto be able to authenticate with the GitHub API.\nRead more about setting up a PAT in one of these places:\n\n* [Managing Git(Hub) Credentials](https://usethis.r-lib.org/articles/articles/git-credentials.html) *usethis article*\n* [Personal access token for HTTPS](https://happygitwithr.com/https-pat.html) *guidance from [Happy Git and GitHub for the useR](https://happygitwithr.com)*\n* [Managing Personal Access Tokens](https://gh.r-lib.org/articles/managing-personal-access-tokens.html) *gh article*\n\nThen, in RStudio, run the app with:\n\n```r\nbranchMover::app()\n```\n\nIf you'd like to explore or reconfigure the default branch of repositories that you manage in other organizations,\nprovide `app()` with the user or organization name.\nBranch Mover will tell you how many repos you have access to in the organization\nand it won't let you update branch names for repos where you don't have admin permissions.\n\n```r\nbranchMover::app(\"rstudio-education\")\n#> ℹ @rstudio-education has 57 total repositories (including forks)\n#> • 57 public repos\n#> • 0 private repos\n#> ℹ 57 non-fork repositories have the following default branches:\n#> x master: 51 repos\n#> ✓ main: 6 repos\n#> ℹ You have admin rights on 1 repo\n```\n\n## Why change branches?\n\nIf you want to learn more about how git's default branch works\nand why many are opting to choose a more intentional default,\nI highly recommend Jenny's detailed article\n[Renaming the default branch](https://www.tidyverse.org/blog/2021/10/renaming-default-branch/),\nwhich I'll quote directly:\n\n> Technically, Git has no official concept of the default branch. But in practice, most Git repos have an _effective default branch_. If there’s only one branch, this is it! It is the branch that most bug fixes and features get merged in to. It is the branch you see when you first visit a repo on a site such as GitHub. On a Git remote, it is the branch that `HEAD` points to. The default branch may not be precisely defined in Git itself, but most of us know it when we see it.\n>\n> Historically, `master` has been the most common name for the default branch, but `main` is an increasingly popular choice. There is coordinated change across the Git ecosystem that is making it easier for users to make this switch, for example:\n>\n> - [Regarding Git and Branch Naming](https://sfconservancy.org/news/2020/jun/23/gitbranchname/), statement from the Git project and the Software Freedom Conservancy regarding the new `init.defaultBranch` configuration option\n> - [Renaming the default branch from`master`](https://github.com/github/renaming#readme), GitHub’s roadmap for supporting the shift away from `master`\n> - [The new Git default branch name](https://about.gitlab.com/blog/2021/03/10/new-git-default-branch-name/), same, but for GitLab\n>\n> <cite>Jenny Bryan, [Renaming the default branch](https://www.tidyverse.org/blog/2021/10/renaming-default-branch/)</cite>\n\n\n***\n\n**Branch Mover** was built by [Garrick Aden-Buie](https://www.garrickadenbuie.com).\nCome say hi to me on Twitter at [&commat;grrrck](https://twitter.com/grrrck).",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}